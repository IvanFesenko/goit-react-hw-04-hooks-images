{"version":3,"sources":["components/Modal/Modal.module.css","App.module.css","components/LoadMoreButton/LoadMoreButton.module.css","components/Preloader/Preloader.module.css","components/Searchbar/Searchbar.module.css","services/pixabayAPI.js","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/LoadMoreButton/LoadMoreButton.js","components/Preloader/Preloader.js","components/Modal/Modal.js","App.js","index.js","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","AXIOS","Axios","create","baseURL","params","key","per_page","image_type","orientation","query","page","a","get","response","data","getData","SearchBar","onSearch","useState","setQuery","className","s","Searchbar","SearchForm","onSubmit","e","preventDefault","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","value","placeholder","onChange","target","ImageGalleryItem","imageSrc","imageUrl","handler","src","alt","data-url","ImageGalleryItem_image","onClick","ImageGallery","images","onImageClick","map","image","webformatURL","largeImageURL","id","LoadMoreButton","onClickHandler","Button","Preloader","wrapper","color","height","width","timeout","modalRoot","document","querySelector","Modal","handlerKeyDown","code","props","onCloseModal","onOverlayClick","event","currentTarget","window","addEventListener","this","removeEventListener","createPortal","Overlay","children","Component","App","pageNumber","setPage","setImages","totalPages","setTotalPages","modalSrc","setModalSrc","isLoading","setLoading","newPageCords","setNewPageCords","useEffect","API","prevImages","hits","scrollTo","top","behavior","documentElement","scrollHeight","Math","ceil","totalHits","newQuery","length","dataset","url","prevPage","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.97c27b89.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__376oP\",\"Modal\":\"Modal_Modal__3w3qf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__EmA8y\",\"App\":\"App_App__lQail\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"LoadMoreButton_Button__1FTk1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Preloader_wrapper__3vUoq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2tTB4\",\"SearchForm\":\"Searchbar_SearchForm__74KpY\",\"SearchFormButton\":\"Searchbar_SearchFormButton__6xuz2\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1HQoH\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2PnrV\"};","import Axios from 'axios';\r\n\r\nconst AXIOS = Axios.create({\r\n  baseURL: 'https://pixabay.com/api/',\r\n  params: {\r\n    key: '18267918-a545f4b922b3d8b59313b99e1',\r\n    per_page: '12',\r\n    image_type: 'photo',\r\n    orientation: 'horizontal',\r\n  },\r\n});\r\n\r\nasync function getData(query, page) {\r\n  const response = await AXIOS.get(`?q=${query}&page=${page}`);\r\n  const { data } = response;\r\n  return data;\r\n}\r\n\r\nexport default { getData };\r\n","import { useState } from 'react';\r\n\r\nimport s from './Searchbar.module.css';\r\n\r\nfunction SearchBar({ onSearch }) {\r\n  const [query, setQuery] = useState('');\r\n\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n    onSearch(query);\r\n  };\r\n\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form className={s.SearchForm} onSubmit={onSubmit}>\r\n        <button type=\"submit\" className={s.SearchFormButton}>\r\n          <span className={s.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n        <input\r\n          className={s.SearchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          value={query}\r\n          placeholder=\"Search images and photos\"\r\n          onChange={({ target }) => setQuery(target.value)}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default SearchBar;\r\n","import s from './ImageGallery.module.css';\n\nfunction ImageGalleryItem({ imageSrc, imageUrl, handler }) {\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        src={imageSrc}\n        alt=\"\"\n        data-url={imageUrl}\n        className={s.ImageGalleryItem_image}\n        onClick={handler}\n      />\n    </li>\n  );\n}\n\nexport default ImageGalleryItem;\n","import s from './ImageGallery.module.css';\n\nimport ImageGalleryItem from './ImageGalleryItem';\n\nfunction ImageGallery({ images, onImageClick }) {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map(image => {\n        const { webformatURL, largeImageURL, id } = image;\n        return (\n          <ImageGalleryItem\n            key={id}\n            imageSrc={webformatURL}\n            imageUrl={largeImageURL}\n            handler={onImageClick}\n          />\n        );\n      })}\n    </ul>\n  );\n}\n\nexport default ImageGallery;\n","import s from './LoadMoreButton.module.css';\n\nfunction LoadMoreButton({ onClickHandler }) {\n  return (\n    <button className={s.Button} onClick={onClickHandler}>\n      Load more...\n    </button>\n  );\n}\n\nexport default LoadMoreButton;\n","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nimport s from './Preloader.module.css';\n\nfunction Preloader() {\n  return (\n    <div className={s.wrapper}>\n      <Loader\n        type=\"ThreeDots\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={3000}\n      />\n    </div>\n  );\n}\n\nexport default Preloader;\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  static propTypes = {\n    onCloseModal: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handlerKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handlerKeyDown);\n  }\n\n  handlerKeyDown = ({ code }) => {\n    if (code === 'Escape') {\n      this.props.onCloseModal();\n    }\n  };\n\n  onOverlayClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onCloseModal();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.onOverlayClick}>\n        <div className={s.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport s from './App.module.css';\r\n\r\nimport API from './services/pixabayAPI';\r\n\r\nimport Searchbar from './components/Searchbar/Searchbar';\r\nimport ImageGallery from './components/ImageGallery/ImageGallery';\r\nimport LoadMoreButton from './components/LoadMoreButton/LoadMoreButton';\r\nimport Preloader from './components/Preloader/Preloader';\r\nimport Modal from './components/Modal/Modal';\r\n\r\nfunction App() {\r\n  const [query, setQuery] = useState('');\r\n  const [pageNumber, setPage] = useState(1);\r\n  const [images, setImages] = useState([]);\r\n  const [totalPages, setTotalPages] = useState(0);\r\n  const [modalSrc, setModalSrc] = useState('');\r\n  const [isLoading, setLoading] = useState(false);\r\n  const [newPageCords, setNewPageCords] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (!query) {\r\n      return;\r\n    }\r\n\r\n    const scrollToNextPage = () => {\r\n      window.scrollTo({\r\n        top: newPageCords,\r\n        behavior: 'smooth',\r\n      });\r\n    };\r\n\r\n    const getData = async () => {\r\n      try {\r\n        const data = await API.getData(query, pageNumber);\r\n        setImages(prevImages => [...prevImages, ...data.hits]);\r\n        scrollToNextPage();\r\n        setNewPageCords(document.documentElement.scrollHeight - 170);\r\n        setTotalPages(Math.ceil(data.totalHits / 12));\r\n        setLoading(false);\r\n      } catch (error) {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    getData();\r\n  }, [pageNumber, query]);\r\n\r\n  const onSearch = newQuery => {\r\n    setPage(1);\r\n    setTotalPages(0);\r\n    setQuery(newQuery);\r\n    setLoading(true);\r\n    setImages([]);\r\n    setNewPageCords(0);\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPage(prevPage => prevPage + 1);\r\n  };\r\n\r\n  return (\r\n    <div className={s.App}>\r\n      <Searchbar onSearch={onSearch} />\r\n      {images.length > 0 && (\r\n        <ImageGallery\r\n          images={images}\r\n          onImageClick={({ target }) => setModalSrc(target.dataset.url)}\r\n        />\r\n      )}\r\n      {isLoading && <Preloader />}\r\n      {pageNumber < totalPages && <LoadMoreButton onClickHandler={loadMore} />}\r\n      {modalSrc && (\r\n        <Modal onCloseModal={() => setModalSrc('')}>\r\n          <img src={modalSrc} alt=\"\" />\r\n        </Modal>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'normalize.css';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1RIhG\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__3vwhb\",\"ImageGalleryItem_image\":\"ImageGallery_ImageGalleryItem_image__2_PLF\"};"],"sourceRoot":""}