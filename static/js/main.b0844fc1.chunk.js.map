{"version":3,"sources":["components/Modal/Modal.module.css","App.module.css","components/LoadMoreButton/LoadMoreButton.module.css","components/Preloader/Preloader.module.css","components/Searchbar/Searchbar.module.css","services/pixabayAPI.js","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/LoadMoreButton/LoadMoreButton.js","components/Preloader/Preloader.js","components/Modal/Modal.js","App.js","index.js","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","AXIOS","Axios","create","baseURL","params","key","per_page","image_type","orientation","query","page","a","get","response","data","getData","SearchBar","onSearch","useState","setQuery","className","s","Searchbar","SearchForm","onSubmit","e","preventDefault","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","value","placeholder","onChange","target","ImageGalleryItem","imageSrc","imageUrl","handler","src","alt","data-url","ImageGalleryItem_image","onClick","ImageGallery","images","onImageClick","map","image","webformatURL","largeImageURL","id","LoadMoreButton","onClickHandler","Button","Preloader","wrapper","color","height","width","timeout","modalRoot","document","querySelector","Modal","handlerKeyDown","code","props","onCloseModal","onOverlayClick","event","currentTarget","window","addEventListener","this","removeEventListener","createPortal","Overlay","children","Component","App","pageNumber","setPage","setImages","totalPages","setTotalPages","modalSrc","setModalSrc","isLoading","setLoading","newPageCords","useRef","useEffect","API","prevImages","hits","scrollTo","top","current","behavior","documentElement","scrollHeight","Math","ceil","totalHits","newQuery","length","dataset","url","prevPage","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b0844fc1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__376oP\",\"Modal\":\"Modal_Modal__3w3qf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__EmA8y\",\"App\":\"App_App__lQail\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"LoadMoreButton_Button__1FTk1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Preloader_wrapper__3vUoq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2tTB4\",\"SearchForm\":\"Searchbar_SearchForm__74KpY\",\"SearchFormButton\":\"Searchbar_SearchFormButton__6xuz2\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1HQoH\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2PnrV\"};","import Axios from 'axios';\n\nconst AXIOS = Axios.create({\n  baseURL: 'https://pixabay.com/api/',\n  params: {\n    key: '18267918-a545f4b922b3d8b59313b99e1',\n    per_page: '12',\n    image_type: 'photo',\n    orientation: 'horizontal',\n  },\n});\n\nasync function getData(query, page) {\n  const response = await AXIOS.get(`?q=${query}&page=${page}`);\n  const { data } = response;\n  return data;\n}\n\nexport default { getData };\n","import { useState } from 'react';\n\nimport s from './Searchbar.module.css';\n\nfunction SearchBar({ onSearch }) {\n  const [query, setQuery] = useState('');\n\n  const onSubmit = e => {\n    e.preventDefault();\n    onSearch(query);\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={onSubmit}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormButtonLabel}>Search</span>\n        </button>\n        <input\n          className={s.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          value={query}\n          placeholder=\"Search images and photos\"\n          onChange={({ target }) => setQuery(target.value)}\n        />\n      </form>\n    </header>\n  );\n}\n\nexport default SearchBar;\n","import s from './ImageGallery.module.css';\r\n\r\nfunction ImageGalleryItem({ imageSrc, imageUrl, handler }) {\r\n  return (\r\n    <li className={s.ImageGalleryItem}>\r\n      <img\r\n        src={imageSrc}\r\n        alt=\"\"\r\n        data-url={imageUrl}\r\n        className={s.ImageGalleryItem_image}\r\n        onClick={handler}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import s from './ImageGallery.module.css';\r\n\r\nimport ImageGalleryItem from './ImageGalleryItem';\r\n\r\nfunction ImageGallery({ images, onImageClick }) {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {images.map(image => {\r\n        const { webformatURL, largeImageURL, id } = image;\r\n        return (\r\n          <ImageGalleryItem\r\n            key={id}\r\n            imageSrc={webformatURL}\r\n            imageUrl={largeImageURL}\r\n            handler={onImageClick}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default ImageGallery;\r\n","import s from './LoadMoreButton.module.css';\r\n\r\nfunction LoadMoreButton({ onClickHandler }) {\r\n  return (\r\n    <button className={s.Button} onClick={onClickHandler}>\r\n      Load more...\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default LoadMoreButton;\r\n","import Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nimport s from './Preloader.module.css';\r\n\r\nfunction Preloader() {\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <Loader\r\n        type=\"ThreeDots\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Preloader;\r\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    onCloseModal: PropTypes.func.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handlerKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handlerKeyDown);\r\n  }\r\n\r\n  handlerKeyDown = ({ code }) => {\r\n    if (code === 'Escape') {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  onOverlayClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.onOverlayClick}>\r\n        <div className={s.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { useState, useEffect, useRef } from 'react';\n\nimport s from './App.module.css';\n\nimport API from './services/pixabayAPI';\n\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport LoadMoreButton from './components/LoadMoreButton/LoadMoreButton';\nimport Preloader from './components/Preloader/Preloader';\nimport Modal from './components/Modal/Modal';\n\nfunction App() {\n  const [query, setQuery] = useState('');\n  const [pageNumber, setPage] = useState(1);\n  const [images, setImages] = useState([]);\n  const [totalPages, setTotalPages] = useState(0);\n  const [modalSrc, setModalSrc] = useState('');\n  const [isLoading, setLoading] = useState(false);\n  const newPageCords = useRef(0);\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n\n    const scrollToNextPage = () => {\n      window.scrollTo({\n        top: newPageCords.current,\n        behavior: 'smooth',\n      });\n    };\n\n    const getData = async () => {\n      try {\n        const data = await API.getData(query, pageNumber);\n        setImages(prevImages => [...prevImages, ...data.hits]);\n        scrollToNextPage();\n        newPageCords.current = document.documentElement.scrollHeight - 170;\n        setTotalPages(Math.ceil(data.totalHits / 12));\n        setLoading(false);\n      } catch (error) {\n        setLoading(false);\n      }\n    };\n\n    getData();\n  }, [pageNumber, query]);\n\n  const onSearch = newQuery => {\n    setPage(1);\n    setTotalPages(0);\n    setQuery(newQuery);\n    setLoading(true);\n    setImages([]);\n    newPageCords.current = 0;\n  };\n\n  const loadMore = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  return (\n    <div className={s.App}>\n      <Searchbar onSearch={onSearch} />\n      {images.length > 0 && (\n        <ImageGallery\n          images={images}\n          onImageClick={({ target }) => setModalSrc(target.dataset.url)}\n        />\n      )}\n      {isLoading && <Preloader />}\n      {pageNumber < totalPages && <LoadMoreButton onClickHandler={loadMore} />}\n      {modalSrc && (\n        <Modal onCloseModal={() => setModalSrc('')}>\n          <img src={modalSrc} alt=\"\" />\n        </Modal>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'normalize.css';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1RIhG\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__3vwhb\",\"ImageGalleryItem_image\":\"ImageGallery_ImageGalleryItem_image__2_PLF\"};"],"sourceRoot":""}